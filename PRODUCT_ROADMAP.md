# AI Stock 产品规划

> 产品视角的全面功能盘点与规划路线图
> 
> 版本: v1.0 | 更新日期: 2025-01-31

---

## 一、功能现状盘点

### 1.1 已完成功能列表

| 模块 | 功能 | 数据来源 | 完成度 | 质量评估 |
|------|------|----------|--------|----------|
| **AI推荐** | 三类智能推荐（短线强势/趋势动量/价值低估） | 新浪财经 + OpenAI | ✅ 100% | ⭐⭐⭐⭐ 优秀 |
| **股票分析** | 个股详情页（K线图、实时行情、AI分析） | akshare + 新浪财经 | ✅ 95% | ⭐⭐⭐⭐ 优秀 |
| **AI对话** | 智能投资问答助手 | OpenAI API | ✅ 100% | ⭐⭐⭐⭐ 优秀 |
| **热门板块** | 行业板块涨跌排行 | 新浪财经 | ✅ 100% | ⭐⭐⭐ 良好 |
| **AI回测** | 推荐表现追踪与统计 | SQLite + 真实数据 | ✅ 100% | ⭐⭐⭐⭐ 优秀 |
| **自选股** | 股票收藏与管理 | localStorage | ✅ 100% | ⭐⭐⭐ 良好 |
| **止盈止损** | 自动平仓规则 | 后端服务 | ✅ 100% | ⭐⭐⭐⭐ 优秀 |
| **定时任务** | 自动更新股票价格 | APScheduler | ✅ 100% | ⭐⭐⭐⭐ 优秀 |

### 1.2 技术架构概览

```
┌─────────────────────────────────────────────────────────────┐
│                     前端 (React + Vite)                      │
├──────────┬──────────┬──────────┬──────────┬────────────────┤
│ 推荐页面  │ 分析页面  │ 回测页面  │ 对话页面  │   自选股页面    │
├──────────┴──────────┴──────────┴──────────┴────────────────┤
│                        API 服务层                            │
├─────────────────────────────────────────────────────────────┤
│                   后端 (FastAPI + Python)                    │
├──────────┬──────────┬──────────┬──────────┬────────────────┤
│ akshare  │  OpenAI  │ backtest │scheduler │   数据库服务    │
│  服务    │  分析器   │  服务    │  服务    │   (SQLite)     │
└──────────┴──────────┴──────────┴──────────┴────────────────┘
```

### 1.3 待优化功能列表

| 模块 | 问题 | 优化建议 | 优先级 |
|------|------|----------|--------|
| **股票分析** | K线图仅支持日K | 增加周K/月K真实数据切换 | P1 |
| **自选股** | 无云端同步 | 考虑增加用户系统 | P3 |
| **AI对话** | 响应速度依赖网络 | 增加本地缓存/流式响应 | P2 |
| **回测** | 缺少对比基准 | 增加沪深300对比曲线 | P1 |
| **推荐** | 无推送通知 | 增加浏览器推送 | P2 |

---

## 二、功能差距分析

### 2.1 竞品功能对标

| 功能模块 | 同花顺 | 东方财富 | 雪球 | AI Stock | 差距 |
|----------|--------|----------|------|----------|------|
| **实时行情** | ✅ | ✅ | ✅ | ✅ | 无 |
| **K线图表** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | ⭐⭐⭐ | 缺少技术指标叠加 |
| **智能选股** | ✅ 条件选股 | ✅ 条件选股 | ❌ | ✅ AI选股 | **优势：AI驱动** |
| **交易模拟** | ✅ 模拟盘 | ✅ 模拟盘 | ❌ | ⚠️ 回测 | 缺少完整模拟交易 |
| **资讯推送** | ✅ 丰富 | ✅ 丰富 | ✅ 社区 | ❌ | 缺少资讯模块 |
| **社区互动** | ✅ 股吧 | ✅ 股吧 | ✅ 核心 | ❌ | 缺少社区 |
| **AI助手** | ⚠️ 基础 | ⚠️ 基础 | ❌ | ✅ GPT | **优势：深度AI** |
| **技术指标** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ | ⭐⭐⭐ | ⭐⭐ | 缺少MACD/KDJ等 |
| **财务数据** | ✅ 完整 | ✅ 完整 | ✅ | ⚠️ 基础 | 需增强财报数据 |
| **自选股** | ✅ 云同步 | ✅ 云同步 | ✅ 云同步 | ⚠️ 本地 | 缺少云同步 |

### 2.2 用户核心场景覆盖

| 用户场景 | 覆盖情况 | 说明 |
|----------|----------|------|
| 📱 **快速看盘** | ✅ 已覆盖 | 推荐页展示热门股票和板块 |
| 🔍 **个股研究** | ⚠️ 部分覆盖 | 有K线和AI分析，缺财报数据 |
| 🤖 **AI选股** | ✅ **核心优势** | 三类策略智能推荐 |
| 📊 **策略验证** | ✅ 已覆盖 | AI回测功能完整 |
| 💬 **投资咨询** | ✅ **核心优势** | GPT驱动的智能问答 |
| 📰 **资讯获取** | ❌ 未覆盖 | 缺少新闻资讯模块 |
| 👥 **社区交流** | ❌ 未覆盖 | 无社区功能 |
| 🔔 **智能提醒** | ❌ 未覆盖 | 缺少价格预警 |
| 💰 **模拟交易** | ⚠️ 部分覆盖 | 仅有回测，无完整模拟盘 |

### 2.3 核心竞争力分析

**优势 (Strengths)**
- 🤖 AI驱动的智能选股，区别于传统条件筛选
- 💬 深度AI对话，提供个性化投资建议
- 📊 完整的推荐回测系统，可量化验证AI能力
- ⚡ 轻量化设计，快速启动

**劣势 (Weaknesses)**
- 📉 技术指标不够丰富
- 📰 缺少资讯和社区
- ☁️ 数据不云同步

---

## 三、功能规划路线图

### P0 - 核心必备（立即优化）

| 功能 | 描述 | 预期价值 | 技术可行性 | 工作量 |
|------|------|----------|------------|--------|
| **技术指标叠加** | K线图增加MA/MACD/KDJ指标 | 提升专业性，增加用户粘性 | ⭐⭐⭐⭐ 高 | 3人天 |
| **股票搜索** | 支持代码/名称/拼音搜索 | 核心功能，提升体验 | ⭐⭐⭐⭐⭐ 高 | 2人天 |
| **周K/月K数据** | 真实周线月线数据切换 | 满足不同周期分析需求 | ⭐⭐⭐⭐ 高 | 1人天 |

### P1 - 重要功能（近期实现）

| 功能 | 描述 | 预期价值 | 技术可行性 | 工作量 |
|------|------|----------|------------|--------|
| **价格预警** | 自定义价格阈值提醒 | 提升活跃度，增加实用性 | ⭐⭐⭐⭐ 高 | 3人天 |
| **回测对比** | 增加沪深300基准对比 | 量化AI超额收益 | ⭐⭐⭐⭐ 高 | 2人天 |
| **财报数据** | 增加主要财务指标展示 | 完善基本面分析 | ⭐⭐⭐ 中 | 4人天 |
| **分享功能** | 推荐卡片生成分享图 | 增加传播，获取新用户 | ⭐⭐⭐⭐ 高 | 2人天 |
| **资讯模块** | 接入股票相关新闻 | 信息完整性 | ⭐⭐⭐ 中 | 5人天 |

### P2 - 体验优化（中期规划）

| 功能 | 描述 | 预期价值 | 技术可行性 | 工作量 |
|------|------|----------|------------|--------|
| **流式对话** | AI对话流式输出 | 提升交互体验 | ⭐⭐⭐⭐ 高 | 2人天 |
| **深色主题** | 完善深色模式 | 提升视觉体验 | ⭐⭐⭐⭐⭐ 高 | 1人天 |
| **手势交互** | K线图手势缩放拖动 | 提升移动端体验 | ⭐⭐⭐ 中 | 3人天 |
| **推送通知** | 浏览器/PWA推送 | 提高用户召回 | ⭐⭐⭐ 中 | 3人天 |
| **多维度筛选** | 增强选股条件组合 | 满足专业用户 | ⭐⭐⭐⭐ 高 | 4人天 |

### P3 - 未来规划（远期愿景）

| 功能 | 描述 | 预期价值 | 技术可行性 | 工作量 |
|------|------|----------|------------|--------|
| **用户系统** | 注册登录+云同步 | 多端数据同步 | ⭐⭐⭐ 中 | 10人天 |
| **模拟交易** | 完整虚拟盘交易 | 增加用户参与度 | ⭐⭐⭐ 中 | 15人天 |
| **社区功能** | 讨论区/观点分享 | 构建用户生态 | ⭐⭐ 低 | 20人天 |
| **港股/美股** | 扩展市场覆盖 | 扩大用户群体 | ⭐⭐⭐ 中 | 8人天 |
| **量化策略** | 自定义策略回测 | 高级用户需求 | ⭐⭐ 低 | 15人天 |

---

## 四、版本迭代计划

### v1.1 - 体验增强版（近期：2-3周）

**目标**: 完善核心功能，提升用户体验

| 功能 | 优先级 | 状态 | 预计完成 |
|------|--------|------|----------|
| 股票搜索功能 | P0 | 🔲 待开发 | Week 1 |
| 技术指标叠加（MA/MACD） | P0 | 🔲 待开发 | Week 1-2 |
| 周K/月K真实数据 | P0 | 🔲 待开发 | Week 1 |
| 回测基准对比（沪深300） | P1 | 🔲 待开发 | Week 2 |
| 分享功能 | P1 | 🔲 待开发 | Week 2 |
| 深色主题完善 | P2 | 🔲 待开发 | Week 3 |

**里程碑**:
- ✅ 用户可搜索任意A股
- ✅ K线图专业度对标主流App
- ✅ 可分享AI推荐卡片

---

### v1.2 - 功能完善版（中期：1-2月）

**目标**: 补齐功能短板，增加用户粘性

| 功能 | 优先级 | 状态 | 预计完成 |
|------|--------|------|----------|
| 价格预警提醒 | P1 | 🔲 待开发 | Week 4-5 |
| 财报数据展示 | P1 | 🔲 待开发 | Week 5-6 |
| 资讯新闻模块 | P1 | 🔲 待开发 | Week 6-7 |
| AI对话流式输出 | P2 | 🔲 待开发 | Week 7 |
| 推送通知（PWA） | P2 | 🔲 待开发 | Week 8 |
| K线手势交互 | P2 | 🔲 待开发 | Week 8 |

**里程碑**:
- ✅ 信息完整度对标同花顺
- ✅ 用户可设置价格提醒
- ✅ PWA支持，可添加到桌面

---

### v2.0 - 平台化版本（远期：3-6月）

**目标**: 构建用户生态，探索商业模式

| 功能 | 优先级 | 状态 | 预计完成 |
|------|--------|------|----------|
| 用户注册登录 | P3 | 🔲 规划中 | Month 3 |
| 云端数据同步 | P3 | 🔲 规划中 | Month 3 |
| 模拟交易系统 | P3 | 🔲 规划中 | Month 4 |
| 社区讨论功能 | P3 | 🔲 规划中 | Month 5 |
| 港股/美股扩展 | P3 | 🔲 规划中 | Month 5 |
| 量化策略自定义 | P3 | 🔲 规划中 | Month 6 |

**里程碑**:
- ✅ 完整用户体系
- ✅ 模拟盘交易
- ✅ 社区雏形

---

## 五、技术债务与优化

### 5.1 当前技术债务

| 问题 | 影响 | 优先级 | 建议方案 |
|------|------|--------|----------|
| localStorage存储自选股 | 数据不同步，丢失风险 | P2 | 迁移至IndexedDB或云端 |
| 前端无状态管理 | 复杂状态难维护 | P2 | 引入Zustand/Jotai |
| API无认证 | 安全风险 | P3 | 增加JWT认证 |
| 无单元测试 | 质量保障不足 | P2 | 增加Pytest+Vitest |
| 无CI/CD | 发布效率低 | P2 | 配置GitHub Actions |

### 5.2 性能优化建议

| 优化项 | 当前状态 | 目标 | 方案 |
|--------|----------|------|------|
| 首屏加载 | ~2s | <1s | 代码分割+预加载 |
| API响应 | ~500ms | <200ms | 增加Redis缓存 |
| K线渲染 | 正常 | 更流畅 | 使用WebGL/轻量库 |

---

## 六、总结与建议

### 6.1 核心定位
> **AI驱动的智能选股工具** - 不做大而全，做小而精

### 6.2 差异化竞争策略
1. **AI选股**：不是传统条件筛选，而是AI智能推荐
2. **AI对话**：不是FAQ机器人，而是真正的投资顾问
3. **透明回测**：用数据说话，让AI推荐可量化验证

### 6.3 近期开发建议

```
第一优先级：股票搜索 + 技术指标
        ↓
第二优先级：分享功能 + 回测对比
        ↓
第三优先级：资讯模块 + 价格预警
```

### 6.4 产品指标（KPI建议）

| 指标 | 当前 | v1.1目标 | v2.0目标 |
|------|------|----------|----------|
| 日活用户 | - | 100 | 1000 |
| AI推荐胜率 | ~65% | >70% | >75% |
| 用户留存(7日) | - | 30% | 50% |
| 平均会话时长 | - | 3min | 8min |

---

*文档维护：产品团队 | 最后更新：2025-01-31*

